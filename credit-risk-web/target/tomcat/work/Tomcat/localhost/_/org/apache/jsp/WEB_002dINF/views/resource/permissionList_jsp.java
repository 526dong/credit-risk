/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2017-12-20 02:54:07 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.resource;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class permissionList_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      if (_jspx_meth_c_005fset_005f0(_jspx_page_context))
        return;
      out.write('\r');
      out.write('\n');

String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n");
      out.write("<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n");
      out.write("<title>权限管理 </title>\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/css/style.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n");
      out.write("<meta http-equiv=\"pragma\" content=\"no-cache\"/>\r\n");
      out.write("<meta http-equiv=\"cache-control\" content=\"no-cache\"/>\r\n");
      out.write("<meta http-equiv=\"expires\" content=\"0\"/>    \r\n");
      out.write("<meta http-equiv=\"keywords\" content=\"keyword1,keyword2,keyword3\"/>\r\n");
      out.write("<meta http-equiv=\"description\" content=\"This is my page\"/>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/js/permission/easyui/themes/default/easyui.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/js/permission/easyui/themes/icon.css\"/>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/js/permission/jquery-2.1.1.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/js/permission/jquery.cookie.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/js/permission/easyui/jquery.easyui.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/js/permission/easyui/easyui-lang-zh_CN.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<!-- bootstrap组件引用 -->\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/bootstrap.min.js?v=3.3.6\"></script>\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/bootstrap.min.css?v=3.3.6\" rel=\"stylesheet\">\r\n");
      out.write("<!-- bootstrap table组件以及中文包的引用 -->\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/bootstrap-table/bootstrap-table.min.js\"></script>\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/plugins/bootstrap-table/bootstrap-table.min.css\" rel=\"stylesheet\">\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/animate.css\" rel=\"stylesheet\">\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/font-awesome.css?v=4.4.0\" rel=\"stylesheet\">\r\n");
      out.write("\r\n");
      out.write("<!-- Data Tables -->\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/dataTables/jquery.dataTables.js\"></script>\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/dataTables/dataTables.bootstrap.js\"></script>\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/plugins/dataTables/dataTables.bootstrap.css\" rel=\"stylesheet\">\r\n");
      out.write("<script\tsrc=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/layer/laydate/laydate.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<!-- Data Tables -->\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/validate/jquery.validate.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/validate/messages_zh.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/sweetalert/sweetalert.min.js\"></script>\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/plugins/sweetalert/sweetalert.css\" rel=\"stylesheet\">\r\n");
      out.write("\r\n");
      out.write("<!-- bootstrap-select -->\r\n");
      out.write("<script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/js/plugins/bootstrap-select/bootstrap-select.js\"></script>\r\n");
      out.write("<link href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resources/h+/css/plugins/bootstrap-select/bootstrap-select.css\" rel=\"stylesheet\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write(".popup_table1{ width:100%;}\r\n");
      out.write(".popup_table1 td{ height:40px; line-height:40px; border:1px solid #f0f0f6;}\r\n");
      out.write(".popup_table1 .popup_td1{ background:#f9f9fb; width:98px; text-indent:16px;}\r\n");
      out.write(".popup_table1 .popup_td2{text-indent:16px;}\r\n");
      out.write("\r\n");
      out.write(".wordCount{ position:relative; }\r\n");
      out.write(".wordCount .wordwrap{ position:absolute; right: 6px; margin-right: 8px;}\r\n");
      out.write(".wordCount .word{ color: red; padding: 0 4px;}\r\n");
      out.write("</style>\r\n");
      out.write("<!--      谷歌记录历史输入选中，输入框黄色修改  -->\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write("  \tinput:-webkit-autofill {\r\n");
      out.write("\t-webkit-box-shadow: 0 0 0px 1000px white inset !important;  \r\n");
      out.write(" \t-webkit-text-fill-color: #333;\r\n");
      out.write("\t}\r\n");
      out.write("</style>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("/**\r\n");
      out.write("*资源类型\r\n");
      out.write("*/\r\n");
      out.write("function formatType(value,row,index) {\r\n");
      out.write("\t  switch (value) {\r\n");
      out.write("\t  case 1:\r\n");
      out.write("\t    return '菜单';\r\n");
      out.write("\t  case 2:\r\n");
      out.write("\t    return '按钮';\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("/**\r\n");
      out.write(" *格式化状态，如果为1，显示正常，为0显示禁用\r\n");
      out.write(" */\r\n");
      out.write("function formatState(value,row,index) {\r\n");
      out.write("  switch (value) {\r\n");
      out.write("\t  case 1:\r\n");
      out.write("\t    return '启用';\r\n");
      out.write("\t  case 2:\r\n");
      out.write("\t    return '停用';\r\n");
      out.write("\t  case 3:\r\n");
      out.write("\t\treturn '删除';\r\n");
      out.write("  }\r\n");
      out.write("}\r\n");
      out.write("/**\r\n");
      out.write(" *格式化操作，在每行的操作栏显示编辑和删除操作\r\n");
      out.write(" */\r\n");
      out.write("function formatAction(value, row, index) {\r\n");
      out.write("  var str = '';\r\n");
      out.write("  if (true) {\r\n");
      out.write("    str += '<a href=\"javascript:onUpdate()\" >编辑</a>';\r\n");
      out.write("  }\r\n");
      out.write("  str += ' | ';\r\n");
      out.write("  if (true) {\r\n");
      out.write("    str += '<a href=\"javascript:onDelete()\">删除</a>';\r\n");
      out.write("  }\r\n");
      out.write("  str += ' | ';\r\n");
      out.write("  if (true) {\r\n");
      out.write("    str += '<a href=\"javascript:addPermission()\">添加下级菜单</a>';\r\n");
      out.write("  }\r\n");
      out.write("\r\n");
      out.write("  return str;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//简略描述  \r\n");
      out.write("function natureshortMemo(value, row, index){\r\n");
      out.write("\t if (value != null){  \r\n");
      out.write("\t\tif(value.length>8){\r\n");
      out.write("\t\t\treturn \"<span title='\"+value+\"'>\"+value.substring(0,8)+\"...\"+\"</span>\";  \r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\treturn \"<span title='\"+value+\"'>\"+value.substring(0,value.length)+\"</span>\";  \r\n");
      out.write("\t\t}\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//$(function() {\r\n");
      out.write("\t //$('#resourcelist').treegrid({\r\n");
      out.write("    //   onLoadSuccess: function(row, data){ \r\n");
      out.write("    //\t   $.each(data, function (i, val) {\r\n");
      out.write("    //\t\t\t   $('#resourcelist').treegrid('collapseAll', data[i].myselfId);\r\n");
      out.write("    //\t\t})\r\n");
      out.write("     //  }  \r\n");
      out.write("    // });\r\n");
      out.write("//});\r\n");
      out.write("</script>\r\n");
      out.write("</head>\r\n");
      out.write("<body class=\"easyui-layout body_bg\" data-options=\"fit:true,border:false\" >\r\n");
      out.write("<div class=\"row\" >\r\n");
      out.write("     <div class=\"col-sm-12\">\r\n");
      out.write("          <div class=\"ibox float-e-margins\">\r\n");
      out.write("\t\t    \t<div class=\"ibox-title\">\r\n");
      out.write("\t\t        \t<h5>位置：系统管理<span>／</span>权限管理</h5>\r\n");
      out.write("\t\t     \t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div id=\"tt\" style=\"padding1:1px; font-size:14px;\" fit=\"true\" border=\"false\" >\r\n");
      out.write("\t<table id=\"resourcelist\" class=\"easyui-treegrid\" \r\n");
      out.write("\t\tdata-options=\"\r\n");
      out.write("\t\t\turl:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${ctx}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/resource/permissionListPage' ,\r\n");
      out.write("\t\t\tmethod: 'post',\r\n");
      out.write("\t\t\tidField:'myselfId',\r\n");
      out.write("\t\t\ttreeField:'permission_name',\r\n");
      out.write("\t\t\ttoolbar:'#tb',\r\n");
      out.write("\t\t\tborder:false,\r\n");
      out.write("\t\t\trownumbers: true\">\r\n");
      out.write("\t  <thead frozen=\"true\">\r\n");
      out.write("\t\t\t<tr>\r\n");
      out.write("\t\t\t\t<th field=\"permission_name\" width=\"250px\" align=\"left\">资源名称</th>\r\n");
      out.write("\t\t\t</tr>\r\n");
      out.write("\t  </thead>\r\n");
      out.write("\t  <thead>\r\n");
      out.write("\t    <tr>\r\n");
      out.write("\t      <th data-options=\"field:'myselfId',width:120\">资源ID</th>\r\n");
      out.write("\t      <th data-options=\"field:'pathUrl',width:200\">资源路径</th>\r\n");
      out.write("\t      <th data-options=\"field:'iconUrl',width:200\">图标路径</th>\r\n");
      out.write("\t      <th data-options=\"field:'type',width:80,formatter:formatType\">资源类型</th>\r\n");
      out.write("\t      <th data-options=\"field:'sequenceNum',width:40\">排序</th>\r\n");
      out.write("\t      <th data-options=\"field:'parentId',width:150\">上级资源ID</th>\r\n");
      out.write("<!-- \t      <th data-options=\"field:'permission_state',width:40,formatter:formatState\">状态</th> -->\r\n");
      out.write("\t      <th data-options=\"field:'description',width:100,formatter:natureshortMemo\">描述 </th>\r\n");
      out.write("\t      <th data-options=\"field:'action',width:160, formatter:formatAction\">操作</th>\r\n");
      out.write("\t    </tr>\r\n");
      out.write("\t  </thead>\r\n");
      out.write("\t</table>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div class=\"modal\" id=\"permissionDetail-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t<div class=\"modal-dialog\" style=\"width: 400px;\">\r\n");
      out.write("\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t<div class=\"modal-header\" >\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span></button>\r\n");
      out.write("\t\t\t\t<h4 class=\"modal-title\">详情</h4>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t<form>\r\n");
      out.write("\t\t        \t<table class=\"popup_table1\">\r\n");
      out.write("\t\t            \t<tbody>\r\n");
      out.write("\t\t                \t<tr>\r\n");
      out.write("\t\t                        <td class=\"popup_td1\">权限名称</td>\r\n");
      out.write("\t\t                        <td class=\"popup_td2\"><span id=\"permissionName2\"></span></td>\r\n");
      out.write("\t\t                    </tr>\r\n");
      out.write("\t\t                    <tr>\r\n");
      out.write("\t\t                        <td class=\"popup_td1\">权限URL</td>\r\n");
      out.write("\t\t                        <td class=\"popup_td2\"><span id=\"permissionUrl2\"></span></td>\r\n");
      out.write("\t\t                    </tr>\r\n");
      out.write("\t\t                    <tr>\r\n");
      out.write("\t\t                        <td class=\"popup_td1\">创建人</td>\r\n");
      out.write("\t\t                        <td class=\"popup_td2\"><span id=\"creator2\"></span></td>\r\n");
      out.write("\t\t                    </tr>\r\n");
      out.write("\t\t                    <tr>\r\n");
      out.write("\t\t                        <td class=\"popup_td1\">创建时间</td>\r\n");
      out.write("\t\t                        <td class=\"popup_td2\"><span id=\"createTime2\"></span></td>\r\n");
      out.write("\t\t                    </tr>\r\n");
      out.write("\t\t                </tbody>\r\n");
      out.write("\t\t            </table>\r\n");
      out.write("\t\t        </form>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-footer\" style=\"display: table; width: auto;margin-left: auto; margin-right: auto;\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">关闭</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>    \r\n");
      out.write("<div class=\"modal\" id=\"permissionEditInfo-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t<div class=\"modal-dialog\" style=\"width: 450px;\">\r\n");
      out.write("\t\t<div class=\"modal-content animated flipInY\">\r\n");
      out.write("\t\t\t<div class=\"modal-header\" style=\"padding:10px;\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span></button>\r\n");
      out.write("\t\t\t\t<h4 class=\"modal-title\">权限编辑</h4>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t<form class=\"form-horizontal\" id=\"permissionEditForm\">\r\n");
      out.write("\t\t\t\t\t <input  type=\"hidden\" id=\"permissionId\"  name=\"permissionId\" >\r\n");
      out.write("\t\t        \t<div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">上级资源名称：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                            <input type=\"text\" class=\"form-control\" id=\"parentNameEdit\" name=\"parentNameEdit\"  readonly=\"readonly\"/>\r\n");
      out.write("                        \t<input type=\"hidden\" id=\"parentEditId\" value=\"\"/>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div style=\"margin-top: 10px;text-align:left;color: #f5725a\" id=\"parentNameEdit_error\"></div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">资源名称：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <input type=\"text\" class=\"form-control\" id=\"permissionNameEdit\" name=\"permissionNameEdit\"  />\r\n");
      out.write("                           <i id=\"permissionNameEdit_error\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">资源类型：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <select class=\"form-control\" name=\"typeEdit\" id=\"typeEdit\" >\r\n");
      out.write("                           \t\t<option value = '1'>菜单 </option>\r\n");
      out.write("\t\t\t\t\t\t\t\t<option value = '2'>按钮 </option>\r\n");
      out.write("                           </select>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\" >资源链接路径：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <input type=\"text\" class=\"form-control\" id=\"pathUrlEdit\" name=\"pathUrlEdit\"  />\r\n");
      out.write("                            <i id=\"pathUrlEdit_error\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\" >资源图标：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <input type=\"text\" class=\"form-control\" id=\"iconUrlEdit\" name=\"iconUrlEdit\"  />\r\n");
      out.write("                            <i id=\"iconUrlEdit_error\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" >\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">资源描述：</label>\r\n");
      out.write("                        <div class=\"col-sm-8 wordCount\">\r\n");
      out.write("                           <textarea class=\"form-control\" rows=\"2\" id=\"descriptionEdit\" name=\"descriptionEdit\"  aria-required=\"true\"\r\n");
      out.write("                           onkeydown=\"checkMaxInput(this,50)\" onkeyup=\"checkMaxInput(this,50)\" onfocus=\"checkMaxInput(this,50)\" onblur=\"checkMaxInput(this,50);\"></textarea> \r\n");
      out.write("                           \t<span class=\"wordwrap\"><var class=\"word\" id=\"desEdit\">50</var>/50</span>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("\t\t        </form>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-footer\" style=\"display: table; width: auto;margin-left: auto; margin-right: auto;\">\r\n");
      out.write("\t\t\t\t<a href=\"javaScript:;\" class=\"btn btn-primary\" onclick=\"saveEditorPermission()\">保存</a>\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">取消</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"modal\" id=\"permissionAddInfo-modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mySmallModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("\t<div class=\"modal-dialog\" style=\"width: 450px;\">\r\n");
      out.write("\t\t<div class=\"modal-content animated flipInY\">\r\n");
      out.write("\t\t\t<div class=\"modal-header\" style=\"padding:10px;\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span></button>\r\n");
      out.write("\t\t\t\t<h4 class=\"modal-title\" >新增权限</h4>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t<form class=\"form-horizontal\" id=\"permissionAddForm\">\r\n");
      out.write("\t\t        \t<div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">上级资源名称：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                            <input type=\"text\" class=\"form-control\" id=\"parentNameAdd\" name=\"parentNameAdd\" readonly=\"readonly\" />\r\n");
      out.write("                        \t<input type=\"hidden\" id=\"parentAddId\" value=\"\"/>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div style=\"margin-top: 5px;text-align:left;color: #f5725a\" id=\"parentNameAdd_error\"></div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">资源名称：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <input type=\"text\" class=\"form-control\" id=\"permissionNameAdd\" name=\"permissionNameAdd\"  />\r\n");
      out.write("                           <i id=\"permissionNameAdd_error\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">资源类型：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <select class=\"form-control\" name=\"type\" id=\"type\" >\r\n");
      out.write("                           \t\t<option value = '1'>菜单 </option>\r\n");
      out.write("\t\t\t\t\t\t\t\t<option value = '2'>按钮 </option>\r\n");
      out.write("                           </select>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\" >资源链接路径：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <input type=\"text\" class=\"form-control\" id=\"pathUrlAdd\" name=\"pathUrlAdd\"  />\r\n");
      out.write("                            <i id=\"pathUrlAdd_error\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" style=\"margin-bottom:5px;\">\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\" >资源图标：</label>\r\n");
      out.write("                        <div class=\"col-sm-8\">\r\n");
      out.write("                           <input type=\"text\" class=\"form-control\" id=\"iconUrlAdd\" name=\"iconUrlAdd\"  />\r\n");
      out.write("                            <i id=\"iconUrlAdd_error\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    <div class=\"form-group\" >\r\n");
      out.write("                        <label class=\"col-sm-3 control-label\" style=\"width: 30%;\">资源描述：</label>\r\n");
      out.write("                        <div class=\"col-sm-8 wordCount\">\r\n");
      out.write("                           <textarea class=\"form-control\" rows=\"2\" id=\"descriptionAdd\" name=\"descriptionAdd\"  aria-required=\"true\"\r\n");
      out.write("                           onkeydown=\"checkMaxInput(this,50)\" onkeyup=\"checkMaxInput(this,50)\" onfocus=\"checkMaxInput(this,50)\" onblur=\"checkMaxInput(this,50);\"></textarea> \r\n");
      out.write("                           \t<span class=\"wordwrap\"><var class=\"word\" id=\"desAdd\">50</var>/50</span>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("\t\t        </form>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"modal-footer\" style=\"display: table; width: auto;margin-left: auto; margin-right: auto;\">\r\n");
      out.write("\t\t\t\t<a href=\"javaScript:;\" class=\"btn btn-primary\" onclick=\"saveAddPermission()\">保存</a>\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">取消</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("          </div>\r\n");
      out.write("     </div>\r\n");
      out.write("</div>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$(function() {\r\n");
      out.write("\t//表单验证\r\n");
      out.write("\t$(\"#permissionAddForm\").validate({\r\n");
      out.write("\t\trules: {\r\n");
      out.write("\t\t\tpermissionNameAdd:{\r\n");
      out.write("\t\t\t\trequired: true\r\n");
      out.write("\t\t\t},pathUrlAdd:{\r\n");
      out.write("\t\t\t\trequired: true\r\n");
      out.write("\t\t\t},iconUrlAdd:{\r\n");
      out.write("\t\t\t\trequired: true\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t \terrorPlacement: function(error, element) { \r\n");
      out.write("\t \t\tif(element.is(\"input[name=permissionNameAdd]\")){\r\n");
      out.write("\t \t\t\terror.appendTo($(\"#permissionNameAdd_error\")); \r\n");
      out.write("\t \t\t}\r\n");
      out.write("\t \t\tif(element.is(\"input[name=pathUrlAdd]\")){\r\n");
      out.write("\t \t\t\terror.appendTo($(\"#pathUrlAdd_error\")); \r\n");
      out.write("\t \t\t}\r\n");
      out.write("\t \t\tif(element.is(\"input[name=iconUrlAdd]\")){\r\n");
      out.write("\t \t\t\terror.appendTo($(\"#iconUrlAdd_error\")); \r\n");
      out.write("\t \t\t}\r\n");
      out.write("\t \t},\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t//表单验证\r\n");
      out.write("\t$(\"#permissionEditForm\").validate({\r\n");
      out.write("\t\trules: {\r\n");
      out.write("\t\t\tpermissionNameEdit:{\r\n");
      out.write("\t\t\t\trequired: true\r\n");
      out.write("\t\t\t},pathUrlEdit:{\r\n");
      out.write("\t\t\t\trequired: true\r\n");
      out.write("\t\t\t},iconUrlEdit:{\r\n");
      out.write("\t\t\t\trequired: true\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t},\r\n");
      out.write("\t \terrorPlacement: function(error, element) { \r\n");
      out.write("\t \t\tif(element.is(\"input[name=permissionNameEdit]\")){\r\n");
      out.write("\t \t\t\terror.appendTo($(\"#permissionNameEdit_error\")); \r\n");
      out.write("\t \t\t}\r\n");
      out.write("\t \t\tif(element.is(\"input[name=pathUrlEdit]\")){\r\n");
      out.write("\t \t\t\terror.appendTo($(\"#pathUrlEdit_error\")); \r\n");
      out.write("\t \t\t}\r\n");
      out.write("\t \t\tif(element.is(\"input[name=iconUrlEdit]\")){\r\n");
      out.write("\t \t\t\terror.appendTo($(\"#iconUrlEdit_error\")); \r\n");
      out.write("\t \t\t}\r\n");
      out.write("\t \t},\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("})\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//新增权限\r\n");
      out.write("function addPermission(){\r\n");
      out.write("\t$(\"#desAdd\").html(50); \r\n");
      out.write("\t$(\"#permissionNameAdd\").val(\"\");\r\n");
      out.write("\t$(\"#pathUrlAdd\").val(\"\");\r\n");
      out.write("\t$(\"#iconUrlAdd\").val(\"\");\r\n");
      out.write("\t$(\"#descriptionAdd\").val(\"\");\r\n");
      out.write("\t$(\"#parentAddId\").val(\"\");\r\n");
      out.write("\t//验证\r\n");
      out.write("\t$(\"#permissionNameAdd\").rules(\"add\",{required:true});\r\n");
      out.write("\t$(\"#pathUrlAdd\").rules(\"add\",{required:false});\r\n");
      out.write("\t$(\"#iconUrlAdd\").rules(\"add\",{required:false});\r\n");
      out.write("\t$(\"#permissionNameAdd_error\").html(\"\");\r\n");
      out.write("\t$(\"#pathUrlAdd_error\").html(\"\");\r\n");
      out.write("\t$(\"#iconUrlAdd_error\").html(\"\");\r\n");
      out.write("\tvar row = $('#resourcelist').datagrid(\"getSelected\");\r\n");
      out.write("\t$(\"#parentAddId\").val(row.myselfId);\r\n");
      out.write("\t$(\"#parentNameAdd\").val(row.permission_name);\r\n");
      out.write("\t$('#permissionAddInfo-modal').modal();\r\n");
      out.write("}\r\n");
      out.write("//保存新增权限\r\n");
      out.write("function saveAddPermission(){\r\n");
      out.write("\tif($(\"#permissionAddForm\").valid()){\r\n");
      out.write("\t\tvar dtd = $.Deferred(); //新建一个延迟对象\r\n");
      out.write("\t    $.ajax({\r\n");
      out.write("\t    \turl: \"");
      out.print(path );
      out.write("/resource/addpermission\",\r\n");
      out.write("\t    \t data: {permission_name:$(\"#permissionNameAdd\").val(),type:$(\"#type\").val(),pathUrl:$(\"#pathUrlAdd\").val(),iconUrl:$(\"#iconUrlAdd\").val(),\r\n");
      out.write("\t    \t\t description:$(\"#descriptionAdd\").val(),parentId:$(\"#parentAddId\").val()},\r\n");
      out.write("\t         type: 'post',\r\n");
      out.write("\t         dataType: \"json\",\r\n");
      out.write("\t         async: false,\r\n");
      out.write("\t         success: function(data){\r\n");
      out.write("\t        \t $('#permissionAddInfo-modal').modal('hide');\r\n");
      out.write("\t        \t var data = eval(data);\r\n");
      out.write("\t        \t if (data==\"1000\") {\r\n");
      out.write("\t        \t\tdtd.resolve(); // 改变Deferred对象的执行状态\r\n");
      out.write(" \t\t\t\t\tswal({\r\n");
      out.write("\t\t                    title: \"添加成功！\",\r\n");
      out.write("\t\t                    text: \"\",\r\n");
      out.write("\t\t                    type: \"success\"\r\n");
      out.write("\t\t                }, function(){\r\n");
      out.write("\t\t                \t$('#resourcelist').treegrid('reload');\r\n");
      out.write("\t\t                });\r\n");
      out.write(" \t\t\t\t}else{\r\n");
      out.write(" \t\t\t\t\tdtd.resolve(); // 改变Deferred对象的执行状态\r\n");
      out.write(" \t\t\t\t\tswal({\r\n");
      out.write("\t\t                    title: \"添加失败！\",\r\n");
      out.write("\t\t                    text: \"\",\r\n");
      out.write("\t\t                    type: \"error\"\r\n");
      out.write("\t\t                }, function(){\r\n");
      out.write("\t\t                \t$('#resourcelist').treegrid('reload');\r\n");
      out.write("\t\t                });\r\n");
      out.write(" \t\t\t\t}\r\n");
      out.write("\t         }\r\n");
      out.write("\t    });\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//编辑权限\r\n");
      out.write("function onUpdate(){\r\n");
      out.write("\tvar rows = $('#resourcelist').datagrid(\"getSelected\");\r\n");
      out.write("\tif(rows.myselfId == \"manage-0\"){\r\n");
      out.write("\t\tswal({\r\n");
      out.write("            title: \"不能编辑根权限\",\r\n");
      out.write("            confirmButtonText: \"确定\"\r\n");
      out.write("        });\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\t$(\"#permissionNameEdit\").val(\"\");\r\n");
      out.write("\t\t$(\"#pathUrlEdit\").val(\"\");\r\n");
      out.write("\t\t$(\"#iconUrlEdit\").val(\"\");\r\n");
      out.write("\t\t$(\"#descriptionEdit\").val(\"\");\r\n");
      out.write("\t\t$(\"#parentEditId\").val(\"\");\r\n");
      out.write("\t\t//验证\r\n");
      out.write("\t\t$(\"#permissionNameEdit\").rules(\"add\",{required:true});\r\n");
      out.write("\t\t$(\"#pathUrlEdit\").rules(\"add\",{required:false});\r\n");
      out.write("\t\t$(\"#iconUrlEdit\").rules(\"add\",{required:false});\r\n");
      out.write("\t\t$(\"#permissionNameEdit_error\").html(\"\");\r\n");
      out.write("\t\t$(\"#pathUrlEdit_error\").html(\"\");\r\n");
      out.write("\t\t$(\"#iconUrlEdit_error\").html(\"\");\r\n");
      out.write("\t\tvar row = $('#resourcelist').datagrid(\"getSelected\");\r\n");
      out.write("\t\tvar parentRow = $('#resourcelist').treegrid('getParent', row.myselfId);\r\n");
      out.write("\t\t$(\"#parentEditId\").val(row.parentId);\r\n");
      out.write("\t\t$(\"#parentNameEdit\").val(parentRow.permission_name);\r\n");
      out.write("\t\t$(\"#permissionNameEdit\").val(row.permission_name);\r\n");
      out.write("\t\t$(\"#typeEdit\").val(row.type);\r\n");
      out.write("\t\t$(\"#pathUrlEdit\").val(row.pathUrl);\r\n");
      out.write("\t\t$(\"#iconUrlEdit\").val(row.iconUrl);\r\n");
      out.write("\t\t$(\"#descriptionEdit\").val(row.description);\r\n");
      out.write("\t\tvar _val = row.description;\r\n");
      out.write("\t\t$(\"#desEdit\").html(50 - _val.length); \r\n");
      out.write("\t\t$('#permissionEditInfo-modal').modal();\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("//触发编辑方法\r\n");
      out.write("function saveEditorPermission(){\r\n");
      out.write("\tvar row = $('#resourcelist').datagrid(\"getSelected\");\r\n");
      out.write("\tif($(\"#permissionEditForm\").valid()){\r\n");
      out.write("\t\r\n");
      out.write("    \tvar dtd = $.Deferred(); //新建一个延迟对象\r\n");
      out.write("\t    $.ajax({\r\n");
      out.write("\t    \t url: \"");
      out.print(path );
      out.write("/resource/saveEditPermission\",\r\n");
      out.write("\t    \t data: {id:row.id,permission_name:$(\"#permissionNameEdit\").val(),type:$(\"#typeEdit\").val(),pathUrl:$(\"#pathUrlEdit\").val(),iconUrl:$(\"#iconUrlEdit\").val(),\r\n");
      out.write("                 description:$(\"#descriptionEdit\").val(),parentId:$(\"#parentEditId\").val()},\r\n");
      out.write("\t         type: 'post',\r\n");
      out.write("\t         dataType: \"json\",\r\n");
      out.write("\t         async: false,\r\n");
      out.write("\t         success: function(data){\r\n");
      out.write("\t        \t $('#permissionEditInfo-modal').modal('hide');\r\n");
      out.write("\t        \t var data = eval(data);\r\n");
      out.write("\t        \t if (data==\"1000\") {\r\n");
      out.write("\t        \t\tdtd.resolve(); // 改变Deferred对象的执行状态\r\n");
      out.write(" \t\t\t\t\tswal({\r\n");
      out.write("\t\t                    title: \"编辑成功！\",\r\n");
      out.write("\t\t                    text: \"\",\r\n");
      out.write("\t\t                    type: \"success\"\r\n");
      out.write("\t\t                }, function(){\r\n");
      out.write("\t\t                \t$('#resourcelist').treegrid('reload');\r\n");
      out.write("\t\t                });\r\n");
      out.write(" \t\t\t\t}else{\r\n");
      out.write(" \t\t\t\t\tdtd.resolve(); // 改变Deferred对象的执行状态\r\n");
      out.write(" \t\t\t\t\tswal({\r\n");
      out.write("\t\t                    title: \"编辑失败！\",\r\n");
      out.write("\t\t                    text: \"\",\r\n");
      out.write("\t\t                    type: \"error\"\r\n");
      out.write("\t\t                }, function(){\r\n");
      out.write("\t\t                \t$('#resourcelist').treegrid('reload');\r\n");
      out.write("\t\t                });\r\n");
      out.write(" \t\t\t\t}\r\n");
      out.write("\t         }\r\n");
      out.write("\t    });\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//删除\r\n");
      out.write("function onDelete(){\r\n");
      out.write("\tvar rows = $('#resourcelist').datagrid(\"getSelected\");\r\n");
      out.write("\tif(rows.myselfId == \"manage-0\"){\r\n");
      out.write("\t\tswal({\r\n");
      out.write("            title: \"不能删除根权限\",\r\n");
      out.write("            confirmButtonText: \"确定\"\r\n");
      out.write("        });\r\n");
      out.write("\t}else{\r\n");
      out.write("\t\tswal({\r\n");
      out.write("\t        title: \"你确认删除吗?\",\r\n");
      out.write("\t        text: \"\",\r\n");
      out.write("\t        type: \"warning\",\r\n");
      out.write("\t        showCancelButton: true,\r\n");
      out.write("\t        confirmButtonColor: \"#DD6B55\",\r\n");
      out.write("\t        cancelButtonText: \"取消\",\r\n");
      out.write("\t        confirmButtonText: \"确定\",\r\n");
      out.write("\t        closeOnConfirm: false\r\n");
      out.write("\t    }, function () {\r\n");
      out.write("\t    \tvar dtd = $.Deferred(); //新建一个延迟对象\r\n");
      out.write("\t\t\tvar row = $('#resourcelist').datagrid(\"getSelected\");\r\n");
      out.write("\t    \t$.ajax({\r\n");
      out.write("\t    \t\turl: \"");
      out.print(path );
      out.write("/resource/modifypermissionState\",\r\n");
      out.write("\t\t        data: {myselfId:row.myselfId,permission_state:3},\r\n");
      out.write("\t\t\t    datatype: 'json',  \r\n");
      out.write("\t\t\t    type: 'post',\r\n");
      out.write("\t\t\t    cache: true,\r\n");
      out.write("\t\t\t    async : true,\r\n");
      out.write("\t\t\t\tsuccess : function(data) {\r\n");
      out.write("\t\t\t\t\tvar data = eval(data);\r\n");
      out.write("\t\t\t\t\tif (data==\"1000\") {\r\n");
      out.write("\t\t\t\t\t\tswal({\r\n");
      out.write("\t\t                    title: \"删除成功！\",\r\n");
      out.write("\t\t                    text: \"\",\r\n");
      out.write("\t\t                    type: \"success\",\r\n");
      out.write("\t\t                    confirmButtonText: \"确定\"\r\n");
      out.write("\t\t                }, function(){\r\n");
      out.write("\t\t                \tdtd.resolve(); // 改变Deferred对象的执行状态\r\n");
      out.write("\t\t\t    \t\t\t$('#resourcelist').treegrid('reload');\r\n");
      out.write("\t\t                });\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\tswal({\r\n");
      out.write("\t\t                    title: \"删除失败！\",\r\n");
      out.write("\t\t                    text: \"\",\r\n");
      out.write("\t\t                    type: \"error\",\r\n");
      out.write("\t\t                    confirmButtonText: \"确定\"\r\n");
      out.write("\t\t                }, function(){\r\n");
      out.write("\t\t                \tdtd.resolve(); // 改变Deferred对象的执行状态\r\n");
      out.write("\t\t\t    \t\t\t$('#resourcelist').treegrid('reload');\r\n");
      out.write("\t\t                });\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t    });\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//多行文本输入框剩余字数计算  \r\n");
      out.write("function checkMaxInput(obj, maxLen) {  \r\n");
      out.write("    if (obj == null || obj == undefined || obj == \"\") {  \r\n");
      out.write("        return;  \r\n");
      out.write("    }  \r\n");
      out.write("    if (maxLen == null || maxLen == undefined || maxLen == \"\") {  \r\n");
      out.write("        maxLen = 100;  \r\n");
      out.write("    }  \r\n");
      out.write("    var strResult;  \r\n");
      out.write("    var $obj = $(obj);   \r\n");
      out.write("\r\n");
      out.write("    if (obj.value.length > maxLen) { //如果输入的字数超过了限制  \r\n");
      out.write("        obj.value = obj.value.substring(0, maxLen); //就去掉多余的字  \r\n");
      out.write("        $(\"#desAdd\").html(0); //计算并显示剩余字数  \r\n");
      out.write("        $(\"#desEdit\").html(0); //计算并显示剩余字数  \r\n");
      out.write("    }else {  \r\n");
      out.write("    \t$(\"#desAdd\").html(maxLen - obj.value.length); //计算并显示剩余字数 \r\n");
      out.write("    \t$(\"#desEdit\").html(maxLen - obj.value.length); //计算并显示剩余字数 \r\n");
      out.write("    }  \r\n");
      out.write("\r\n");
      out.write("}  \r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fset_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:set
    org.apache.taglibs.standard.tag.rt.core.SetTag _jspx_th_c_005fset_005f0 = (org.apache.taglibs.standard.tag.rt.core.SetTag) _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.SetTag.class);
    _jspx_th_c_005fset_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fset_005f0.setParent(null);
    // /WEB-INF/views/resource/permissionList.jsp(3,0) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fset_005f0.setVar("ctx");
    // /WEB-INF/views/resource/permissionList.jsp(3,0) name = value type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
    _jspx_th_c_005fset_005f0.setValue(new org.apache.jasper.el.JspValueExpression("/WEB-INF/views/resource/permissionList.jsp(3,0) '${pageContext.request.contextPath}'",_el_expressionfactory.createValueExpression(_jspx_page_context.getELContext(),"${pageContext.request.contextPath}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
    int _jspx_eval_c_005fset_005f0 = _jspx_th_c_005fset_005f0.doStartTag();
    if (_jspx_th_c_005fset_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f0);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fset_0026_005fvar_005fvalue_005fnobody.reuse(_jspx_th_c_005fset_005f0);
    return false;
  }
}
